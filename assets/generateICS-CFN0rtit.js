var re=Object.defineProperty;var ce=(e,t,a)=>t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var O=(e,t,a)=>ce(e,typeof t!="symbol"?t+"":t,a);import{r as y,j as o,R as Z}from"./index-Dp3GpNt-.js";class v{constructor(t){O(this,"isYearDefined",!0);O(this,"date");if(t instanceof v)this.date=new Date(t.valueOf());else if(typeof t=="string"){const a=t.split("T")[0].split("-");if(a.length===3){const[s,n,c]=a;this.date=new Date(Date.UTC(Number(s),Number(n)-1,Number(c),12))}else{const[s,n]=a;this.date=new Date(Date.UTC(2025,Number(s)-1,Number(n),12))}}else this.date=new Date}static fromMonthAndDay(t,a){const s=new v(t.split("-").length===3?t:`${a}-${t}`);return s.isYearDefined=t.split("-").length===3,s}isToday(){return U.getFullYear()===this.date.getFullYear()&&U.getMonth()===this.date.getMonth()&&U.getDate()===this.date.getDate()}toISOString(){return this.date.toISOString()}getTimezoneOffset(){return this.date.getTimezoneOffset()}getHours(){return this.date.getUTCHours()}getMinutes(){return this.date.getUTCMinutes()}getSeconds(){return this.date.getUTCSeconds()}getTime(){return this.date.getTime()}getDay(){return this.date.getUTCDay()}getFullYear(){return this.date.getUTCFullYear()}getMonth(){return this.date.getUTCMonth()}getDate(){return this.date.getUTCDate()}toDateString(){return this.date.toDateString()}setFullYear(t){this.date.setUTCFullYear(t)}setMonth(t){this.date.setUTCMonth(t)}setDate(t){this.date.setUTCDate(t)}valueOf(){return this.date.valueOf()}}const U=new v,ie=["January","February","March","April","May","June","July","August","September","October","November","December"],le=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],L={Monday:1,Saturday:6,Sunday:0},T="en-CA",de=()=>{const e=new v().getFullYear();return Array.from({length:3},(t,a)=>e-1+a)},R=e=>e.toISOString().split("T")[0];function ne(e){return e===L.Sunday?7:e}const F=(e,t)=>e.toDateString()===t.toDateString(),ue=(e,t)=>new Date(e,t+1,0).getDate(),oe=e=>new Date(0,e).toLocaleString(T,{month:"long"}),K=e=>(e+1)%12;function _t(e){const t=new Intl.DateTimeFormat(T,{month:"long",day:"numeric"}),a=new Intl.DateTimeFormat(T,{weekday:"long"}),s=t.format(e.valueOf()),n=a.format(e.valueOf());return`${s} (${n})`}function Y(e){return[L.Saturday,L.Sunday,"Sun","Sat"].includes(e)}const H=new Intl.DateTimeFormat(T);function I(){return new URLSearchParams(window.location.hash.replace("#",""))}function W(e,t,a,s,n){const c=e.getFullYear(),i=new v(`${c}-${String(s+1).padStart(2,"0")}-01`),m=new v(i);m.setDate(m.getDate()+1-ne(i.getDay()));const l=[],g=new v;let p=!0;for(let f=0;f<=372;f++){const d=new v(m);d.setDate(m.getDate()+f),d.getDay()===L.Monday&&d.getMonth()===K(s)&&(p=!1);const h=F(d,g),S=d.getFullYear()===c,k=S?me(d,t,a):[];l.push({date:d,isSideMonth:d.getMonth()!==s&&p,isCurrentMonth:d.getMonth()===s&&S,isCurrentYear:S,isToday:h,isWeekend:Y(d.getDay()),events:n||!Y(d.getDay())?k:[],dayNumber:d.getDate()}),d.getDay()===L.Sunday&&d.getMonth()===K(s)&&(p=!1)}return l}function me(e,t,a){const s=R(e);return[...t.filter(n=>n.kind==="other"&&n.date===s),...a.flatMap(n=>t.filter(c=>{var i;return c.kind==="publicHoliday"&&c.countryCode===n&&((i=c.type)==null?void 0:i.includes("National holiday"))===!0&&c.date===s}))]}const Dt=(e,t=!0)=>{const[a,s]=y.useState(new v),n=u=>{u.valueOf()!==a.valueOf()&&s(u)},[c,i]=y.useState(["LV"]),[m,l]=y.useState("year"),[g,p]=y.useState(!1),f=y.useCallback(()=>{const u=I(),r=u.get("countries")??"";r&&i(r.split(","));const C=u.get("date")??"";C&&n(new v(C));const D=u.get("mode");(D==="month"||D==="year")&&l(D);const M=u.get("all");p(M==="1")},[]);y.useEffect(()=>(f(),window.addEventListener("hashchange",f),()=>{window.removeEventListener("hashchange",f)}),[]);const d=y.useMemo(()=>W(a,e,c,a.getMonth(),t).filter(u=>u.isSideMonth||u.isCurrentMonth),[a,c,e,t]),h=y.useMemo(()=>W(a,e,c,0,t),[a,c,e,t]),S=y.useCallback(u=>{const r=new v(a);r.setDate(1),r.setMonth(u);const C=I();return C.set("date",H.format(r.valueOf())),window.location.hash=decodeURIComponent(C.toString()),r},[a]),k=y.useCallback(u=>{i(r=>{const C=r.includes(u)?r.filter(M=>M!==u):[...r,u],D=I();return D.set("countries",C.join(",")),window.location.hash=decodeURIComponent(D.toString()),C})},[]),w=y.useCallback(u=>{const r=I();r.set("date",H.format(u.valueOf())),window.location.hash=decodeURIComponent(r.toString()),n(u)},[]),x=y.useCallback((u,r)=>{const C=I();if(C.set("mode",u),u==="month"){const D=new v(a);D.setMonth(r),C.set("date",H.format(D.valueOf()))}window.location.hash=decodeURIComponent(C.toString()),l(u)},[a]),b=y.useCallback(u=>{const r=I();r.set("all",u?"1":"0"),window.location.hash=decodeURIComponent(r.toString()),p(u)},[]);return{currentDate:a,selectedCountries:c,selectedMonthDays:d,selectedYearDays:h,mode:m,navigateMonth:S,toggleCountry:k,handleDateChange:w,handleModeChange:x,showAllCountries:g,setShowAllCountries:b}},he="_controls_sr40k_1",pe="_controlsGrid_sr40k_7",ge="_controlGroup_sr40k_14",fe="_controlGroupItem_sr40k_19",ye="_controlGroupLabel_sr40k_25",Ce="_select_sr40k_32",_e="_navButton_sr40k_62",N={controls:he,controlsGrid:pe,controlGroup:ge,controlGroupItem:fe,controlGroupLabel:ye,select:Ce,navButton:_e},St=e=>{const{selectedDate:t,onDateChange:a,onNavigateMonth:s}=e,n=de(),c=t.getFullYear(),i=t.getMonth(),m=Array.from({length:12},(l,g)=>g);return o.jsx("div",{className:N.controls,children:o.jsxs("div",{className:N.controlsGrid,children:[o.jsxs("div",{className:N.controlGroup,children:[o.jsx("label",{className:N.controlGroupLabel,children:"Select Year"}),o.jsxs("div",{className:N.controlGroupItem,children:[o.jsx("button",{className:N.navButton,onClick:()=>s(t.getMonth()-12),children:"â† Previous"}),o.jsx("select",{className:N.select,value:c,onChange:l=>{const g=parseInt(l.target.value),p=new v(t);p.setFullYear(g),a(p)},children:n.map(l=>o.jsx("option",{value:l,children:l},l))}),o.jsx("button",{className:N.navButton,onClick:()=>s(t.getMonth()+12),children:"Next â†’"})]})]}),o.jsxs("div",{className:N.controlGroup,children:[o.jsx("label",{className:N.controlGroupLabel,children:"Select Month"}),o.jsxs("div",{className:N.controlGroupItem,children:[o.jsx("button",{className:N.navButton,onClick:()=>s(t.getMonth()-1),children:"â† Previous"}),o.jsx("select",{className:N.select,value:i,onChange:l=>{const g=parseInt(l.target.value),p=new v(t);p.setMonth(g),p.setDate(1),a(p)},children:m.map(l=>o.jsx("option",{value:l,children:oe(l)},l))}),o.jsx("button",{className:N.navButton,onClick:()=>s(t.getMonth()+1),children:"Next â†’"})]})]}),e.extraControls]})})},A=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(127397+t.charCodeAt(0))),De="_calendarDay_1te7n_1",Se="_isClickable_1te7n_9",ve="_otherMonth_1te7n_17",ke="_today_1te7n_22",Ee="_selectedDate_1te7n_27",Ne="_dayNumber_1te7n_31",we="_event_1te7n_37",be="_holiday_1te7n_49",j={calendarDay:De,isClickable:Se,otherMonth:ve,today:ke,selectedDate:Ee,dayNumber:Ne,event:we,holiday:be};function B(e,t,a,s){var c,i,m;if(Object.keys(s).length===0)return;if(!e)return"https://en.wikipedia.org/wiki/"+s[t].wiki;const n=(m=(i=(c=s[t])==null?void 0:c.holidays)==null?void 0:i.find(l=>{const g=parseInt(l.date.split("-")[0],10);return parseInt(l.date.split("-")[1],10)===parseInt(e.split("-")[1],10)&&g===parseInt(e.split("-")[2],10)}))==null?void 0:m.l;return n?"https://en.wikipedia.org/wiki/"+n:`https://www.google.com/search?q=${a.split(" ").join("+")}+${t}`}const z=({day:e,setDateForPopup:t,isSelected:a,isEditable:s,countryData:n})=>{const c=[j.calendarDay,!e.isCurrentMonth&&j.otherMonth,e.isToday&&j.today,a?j.selectedDate:"",s?j.isClickable:"",e.isWeekend?j.holiday:""].filter(Boolean).join(" ");return o.jsxs("div",{className:c,onClick:()=>t(e.date),children:[o.jsx("div",{className:j.dayNumber,children:e.dayNumber}),e.isCurrentMonth&&e.events.map((i,m)=>i.kind==="publicHoliday"?o.jsx("a",{href:B(i.date,i.country,i.name,n),onClick:l=>l.stopPropagation(),target:"_blank",rel:"noopener noreferrer",children:o.jsxs("div",{className:j.event,title:`${i.localName}`,children:[A(i.countryCode)," ",i.country,": ",i.name]})},m):o.jsxs("div",{className:j.event,title:`${i.localName}`,onClick:l=>l.stopPropagation(),children:[i.icon," ",i.name]},m))]},e.date.toDateString())},xe="_calendarGrid_c8mu5_1",Me="_calendarGridContainer_c8mu5_13",je="_calendarHeader_c8mu5_18",Te="_hidden_c8mu5_39",Ie="_animateHidingForward_c8mu5_40",$e="_animateHidingBackward_c8mu5_41",Le="_weekend_c8mu5_47",Ae="_yearGrid_c8mu5_51",Re="_monthContainer_c8mu5_57",Fe="_monthHeader_c8mu5_62",Ge="_monthGrid_c8mu5_75",Oe="_dayCell_c8mu5_81",Ue="_isClickable_c8mu5_88",He="_holiday_c8mu5_92",Ye="_selectedDate_c8mu5_97",Be="_holidayIndicatorsList_c8mu5_101",Pe="_holidayIndicator_c8mu5_101",Ve="_popup_c8mu5_110",Ze="_popupContent_c8mu5_129",Ke="_today_c8mu5_170",We="_highlightedMonth_c8mu5_175",_={calendarGrid:xe,calendarGridContainer:Me,calendarHeader:je,hidden:Te,animateHidingForward:Ie,animateHidingBackward:$e,weekend:Le,yearGrid:Ae,monthContainer:Re,monthHeader:Fe,monthGrid:Ge,dayCell:Oe,isClickable:Ue,holiday:He,selectedDate:Ye,holidayIndicatorsList:Be,holidayIndicator:Pe,popup:Ve,popupContent:Ze,today:Ke,highlightedMonth:We},ze="_monthNavigation_l4b7h_1",qe="_monthTitle_l4b7h_8",q={monthNavigation:ze,monthTitle:qe},Je=({currentDate:e,onNavigateYear:t})=>o.jsx("div",{className:q.monthNavigation,children:o.jsx("h2",{title:"Click to see whole year",className:q.monthTitle,onClick:t,children:`${ie[e.getMonth()]} ${e.getFullYear()}`})}),Xe="_popup_fmkjy_1",Qe="_shadow_fmkjy_13",et="_nameContainer_fmkjy_64",tt="_checkbox_fmkjy_72",nt="_checkboxLabel_fmkjy_76",$={popup:Xe,shadow:Qe,"emoji-popup":"_emoji-popup_fmkjy_32",nameContainer:et,checkbox:tt,checkboxLabel:nt};function J(e){return e.replace(new RegExp("(\\p{Emoji_Presentation}|\\p{Emoji}\\uFE0F)\\s","u"),"")}const ot=["ðŸŽˆ","ðŸŽ","ðŸŽ‚","ðŸ’","ðŸ‘¸","ðŸ‘´ðŸ¼","ðŸ‘µ","ðŸ˜€","ðŸ˜","ðŸ˜‚","ðŸ¤£","ðŸ˜Š","ðŸ˜","ðŸ˜Ž","ðŸ˜","ðŸ¤”","ðŸ˜´","ðŸ˜¡","ðŸ˜­","ðŸ¤¯","ðŸ¤©","ðŸ˜‡","ðŸ¥°","ðŸ˜¤","ðŸ˜ˆ","ðŸ‘»","ðŸ”¥"],at=()=>ot.map((e,t)=>o.jsx("span",{children:e},t)),st=({initialDate:e,onNewEvent:t})=>{const a=y.useRef(null),s=y.useRef(null),[n,c]=y.useState(""),[i,m]=y.useState(!1),[l,g]=y.useState("ðŸŽ‚");y.useEffect(()=>{const h=S=>{a.current&&!a.current.contains(S.target)&&t(null)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[t]);const p=()=>{t({date:i?e:e.substring(5),name:J(n),icon:l,localName:"",kind:"other"})},f=y.useCallback(h=>{var k;const S=h.target;S.tagName==="SPAN"&&(g(S.innerHTML),c(w=>S.innerHTML+" "+J(w)),(k=s.current)==null||k.focus())},[]),d=y.useCallback(h=>{h.key==="Enter"&&n.trim()?(h.preventDefault(),p()):h.key==="Escape"&&t(null)},[p,n]);return y.useEffect(()=>(document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)),[]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:$.shadow}),o.jsxs("div",{ref:a,className:$.popup,onClick:h=>{h.stopPropagation()},role:"dialog","aria-modal":"true",children:[o.jsx("p",{children:o.jsxs("b",{children:["Add new event for ",e]})}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[o.jsxs("div",{className:$.nameContainer,children:[o.jsx("label",{htmlFor:"eventName",children:"Name"}),o.jsx("input",{onKeyDown:d,id:"eventName",ref:s,value:n,required:!0,type:"text",onChange:h=>c(h.target.value)})]}),o.jsx("div",{className:$["emoji-popup"],onClick:f,children:o.jsx(at,{})}),o.jsx("input",{type:"checkbox",id:"oneTime",className:$.checkbox,checked:i,onChange:h=>m(h.target.checked)}),o.jsx("label",{htmlFor:"oneTime",className:$.checkboxLabel,children:"One-time"}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{type:"button",onClick:p,children:"Save (Enter)"}),o.jsx("button",{type:"button",onClick:()=>t(null),children:"Cancel (Esc)"})]})]})]})]})};function P(e){const[t,a]=Z.useState(e),[s,n]=Z.useState(null);return e!==t&&(n(t),a(e)),s}function rt(e){return e.split(`
`).map(t=>t.trim()).filter(Boolean).join(" ")}const X=()=>le.map(e=>o.jsx("div",{className:`${_.calendarHeader} ${Y(e)?_.weekend:""}`,children:e},e)),ct=e=>{const{shouldAnimate:t,selectedDays:a,onModeChange:s,currentDate:n,dateForPopup:c,setDateForPopup:i,isEditable:m,countryData:l}=e,g=P(a),p=P(n),f=_.calendarGrid+" "+(p&&t?p.valueOf()<n.valueOf()?_.animateHidingForward:_.animateHidingBackward:_.hidden);return o.jsxs(o.Fragment,{children:[o.jsx(Je,{currentDate:n,onNavigateYear:()=>s("year",1)}),g&&o.jsxs("div",{className:f,children:[o.jsx(X,{}),g.map((d,h)=>o.jsx(z,{day:d,setDateForPopup:i,isSelected:!1,isEditable:m,countryData:l},d.date+""+h))]},n.valueOf()),o.jsxs("div",{className:_.calendarGrid,children:[o.jsx(X,{}),a.map((d,h)=>o.jsx(z,{day:d,setDateForPopup:i,isSelected:c===d.date,isEditable:m,countryData:l},d.date+""+h))]})]})},it=({selectedDays:e,onModeChange:t,currentDate:a,dateForPopup:s,setDateForPopup:n,isEditable:c,setSelectedDay:i})=>{const m=a.getFullYear(),[l,g]=y.useState(null),p=y.useRef(null),f=a.getMonth();return y.useEffect(()=>{if(p.current){const d=p.current.querySelectorAll(`.${_.monthContainer}`)[f];d&&!a.isToday()&&(d.scrollIntoView({behavior:"smooth",block:"center"}),g(f))}},[f]),o.jsx("div",{ref:p,className:_.yearGrid,children:Array.from({length:12},(d,h)=>{const S=ue(m,h),k=oe(h),w=new v(`${m}-${String(h+1).padStart(2,"0")}-01`),x=ne(w.getDay())-1,b=Array.from({length:x},(u,r)=>o.jsx("div",{},r));return o.jsxs("div",{className:`${_.monthContainer} ${l===h?_.highlightedMonth:""}`,children:[o.jsx("div",{className:_.monthHeader,title:"Click to switch on month view",onClick:()=>{t("month",h)},children:k}),o.jsxs("div",{className:_.monthGrid,children:[b,Array.from({length:S},(u,r)=>{const C=new v(`${m}-${String(h+1).padStart(2,"0")}-${r+1}`),D=e.find(E=>F(E.date,C)),M=(D==null?void 0:D.events)||[],V=new Set,se=M.filter(E=>E.kind!=="publicHoliday"||V.has(E.countryCode)?!1:(V.add(E.countryCode),!0));return o.jsxs("div",{className:rt(`
                                                ${D!=null&&D.isToday?_.today:""}
                                                ${(s==null?void 0:s.valueOf())===C.valueOf()?_.selectedDate:""} 
                                                ${_.dayCell} 
                                                ${M.length>0||D!=null&&D.isWeekend?_.holiday:""}
                                                ${M.length>0||c?_.isClickable:""}
                                            `),style:{borderRadius:`${r===0?10:0}px 0px ${r===S-1?10:0}px 0px`},onClick:()=>M.length>0?i(C):n(C),children:[r+1,o.jsxs("div",{className:_.holidayIndicatorsList,children:[se.map(E=>o.jsx("div",{className:_.holidayIndicator,children:A(E.countryCode)},E.countryCode+E.name)),M.filter(E=>E.kind==="other").map(E=>o.jsx("div",{className:_.holidayIndicator,children:E.icon},E.name))]})]},r)})]})]},h)})})},vt=e=>{var k,w,x,b,u;const{selectedMonthDays:t,selectedYearDays:a,currentDate:s,mode:n,onModeChange:c,onNewEvent:i,countryData:m}=e,l=(k=P(e))==null?void 0:k.mode,[g,p]=y.useState(null),[f,d]=y.useState(null),[h,S]=y.useState(l===n);return y.useEffect(()=>{const r=C=>{const D=document.querySelector(`.${_.popup}`);D&&!D.contains(C.target)&&p(null)};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[]),o.jsxs("div",{className:_.calendarGridContainer,children:[n==="month"?o.jsx(ct,{shouldAnimate:h,selectedDays:t,onModeChange:c,currentDate:s,dateForPopup:f,setDateForPopup:d,isEditable:i!==void 0,countryData:m}):o.jsx(it,{selectedDays:a,onModeChange:(r,C)=>{S(!1),c(r,C)},currentDate:s,dateForPopup:f,setDateForPopup:d,isEditable:i!==void 0,setSelectedDay:p,countryData:m}),f&&i&&o.jsx(st,{initialDate:R(f),onNewEvent:r=>{r&&i(r),d(null)}}),g&&o.jsx("div",{className:_.popup,children:o.jsxs("div",{className:_.popupContent,children:[o.jsxs("h3",{children:["Events on ",R(g)]}),o.jsxs("ul",{children:[(x=(w=a.find(r=>F(r.date,g)))==null?void 0:w.events.filter(r=>r.kind==="publicHoliday"))==null?void 0:x.map((r,C)=>o.jsxs("li",{"data-flag":A(r.countryCode),children:[o.jsx("a",{target:"_blank",href:B(void 0,r.country,"public holidays",m),children:o.jsx("strong",{children:r.country})}),":"," ",o.jsx("a",{target:"_blank",href:B(r.date,r.country,r.name,m),children:r.name})]},C)),(u=(b=a.find(r=>F(r.date,g)))==null?void 0:b.events.filter(r=>r.kind==="other"))==null?void 0:u.map((r,C)=>o.jsx("li",{"data-flag":r.icon,children:o.jsx("span",{children:r.name})},C))]}),o.jsx("button",{onClick:()=>p(null),children:"Close"})]})})]})},lt="_app_12yz4_1",dt="_header_12yz4_9",ut="_container_12yz4_33",kt={app:lt,header:dt,container:ut},G={AD:"Europe/Andorra",AL:"Europe/Tirane",AT:"Europe/Vienna",BA:"Europe/Sarajevo",BE:"Europe/Brussels",BG:"Europe/Sofia",BY:"Europe/Minsk",CH:"Europe/Zurich",CY:"Asia/Nicosia",CZ:"Europe/Prague",DE:"Europe/Berlin",DK:"Europe/Copenhagen",EE:"Europe/Tallinn",ES:"Europe/Madrid",FI:"Europe/Helsinki",FR:"Europe/Paris",GB:"Europe/London",GR:"Europe/Athens",HR:"Europe/Zagreb",HU:"Europe/Budapest",IE:"Europe/Dublin",IS:"Atlantic/Reykjavik",IT:"Europe/Rome",LI:"Europe/Vaduz",LT:"Europe/Vilnius",LU:"Europe/Luxembourg",LV:"Europe/Riga",MC:"Europe/Monaco",MD:"Europe/Chisinau",ME:"Europe/Podgorica",MK:"Europe/Skopje",MT:"Europe/Malta",NL:"Europe/Amsterdam",NO:"Europe/Oslo",PL:"Europe/Warsaw",PT:"Europe/Lisbon",RO:"Europe/Bucharest",RS:"Europe/Belgrade",RU:"Europe/Moscow",SE:"Europe/Stockholm",SI:"Europe/Ljubljana",SK:"Europe/Bratislava",TR:"Europe/Istanbul",UA:"Europe/Kyiv"},ae={UA:"Europe/Kiev"};function mt(e,t){var m;const a=new Date;let s;try{s=new Intl.DateTimeFormat(T,{timeZone:e,timeZoneName:"shortOffset"})}catch(l){if(t)try{s=new Intl.DateTimeFormat(T,{timeZone:t,timeZoneName:"shortOffset"})}catch(g){window.console.error(g)}window.console.error(l)}if(!s)return"unknown timeZone";const n=s.formatToParts(a),c=n?(m=n.find(l=>l.type==="timeZoneName"))==null?void 0:m.value:"",i=(c==null?void 0:c.replace("GMT","").replace("UTC",""))??"";return i.startsWith("+")||i.startsWith("-")?i:"+0"}const ht=Object.entries(G).map(([e,t])=>({countryCode:e,timeZone:t,offset:mt(t,ae[e])})),Et=ht.reduce((e,{countryCode:t,offset:a})=>(e[t]=a,e),{}),Nt=e=>{const t={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1};try{return new Intl.DateTimeFormat(T,{timeZone:G[e],...t}).format(new Date)}catch(a){window.console.error(a)}try{return new Intl.DateTimeFormat(T,{timeZone:ae[e],...t}).format(new Date)}catch(a){window.console.error(a)}},pt={AD:"Andorra",AL:"Albania",AT:"Austria",BA:"Bosnia and Herzegovina",BE:"Belgium",BG:"Bulgaria",BY:"Belarus",CH:"Switzerland",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DK:"Denmark",EE:"Estonia",ES:"Spain",FI:"Finland",FR:"France",GB:"United Kingdom",GR:"Greece",HR:"Croatia",HU:"Hungary",IE:"Ireland",IS:"Iceland",IT:"Italy",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MK:"North Macedonia",MT:"Malta",NL:"Netherlands",NO:"Norway",PL:"Poland",PT:"Portugal",RO:"Romania",RS:"Serbia",RU:"Russia",SE:"Sweden",SI:"Slovenia",SK:"Slovakia",TR:"TÃ¼rkiye",UA:"Ukraine"};function Q(e){const t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}${a}${s}`}function gt(e){const t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),n=String(e.getHours()).padStart(2,"0"),c=String(e.getMinutes()).padStart(2,"0"),i=String(e.getSeconds()).padStart(2,"0");return`${t}${a}${s}T${n}${c}${i}Z`}function ee(e=""){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/,/g,"\\,").replace(/;/g,"\\;")}function ft(e){const t=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//holiday-calendar-full//EN"],a=new v,s=gt(a);for(const n of e){if(!n.date)continue;const c=v.fromMonthAndDay(n.date,2025),i=Q(c),m=new v(c);m.setDate(m.getDate()+1);const l=Q(m),g=ee(n.localName||n.name||""),p=`${n.date}-${Math.random().toString(36).slice(2,10)}@holiday-calendar`,f=n.kind==="other"?n.icon?n.icon+" ":"":A(n.countryCode)+" ",d=ee(`${f}${n.name}`);t.push("BEGIN:VEVENT"),t.push(`UID:${p}`),t.push(`DTSTAMP:${s}`),t.push(`CREATED:${s}`);const h=n.kind==="publicHoliday"?`TZID=${G[n.countryCode]};`:"";t.push(`DTSTART;${h}VALUE=DATE:${i}`),t.push(`DTEND;${h}VALUE=DATE:${l}`),t.push(`SUMMARY:${d}`),g&&t.push(`DESCRIPTION:${g}`),t.push("TRANSP:TRANSPARENT"),t.push("END:VEVENT")}return t.push("END:VCALENDAR"),t.join(`\r
`)}function wt(e,t="calendar_events"){const a=ft(e),s=new Blob([a],{type:"text/plain"}),n=URL.createObjectURL(s),c=document.createElement("a");c.href=n,c.download=t+".ics",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(n)}const te=e=>e.replace(/\\\\/g,"\\").replace(/\\n/gi,`
`).replace(/\\,/g,",").replace(/\\;/g,";");function bt(e){var m,l,g;let t=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`);t=t.replace(/\n[ \t]/g,"");const a=t.split(`
`),s=[];let n=null,c=null,i;for(const p of a){const f=p.replace(/\r$/,"");if(f==="BEGIN:VEVENT"){n={},c=null;continue}if(f==="END:VEVENT"){n&&(n.kind==="other"?s.push({date:n.date??null,name:n.name||"",localName:n.localName??"",kind:"other",icon:n.icon??""}):n.kind==="publicHoliday"&&s.push({date:n.date??null,name:n.name||"",localName:n.localName??"",kind:"publicHoliday",countryCode:n.countryCode??"SE",country:n.country??"Sweden",type:void 0})),n=null,c=null;continue}const d=f.indexOf(":"),h=f.substring(0,d).split(";"),S=f.substring(d+1),k=h[0].toUpperCase();if(k==="X-WR-CALNAME"&&(i=(m=Object.entries(pt).find(([,w])=>S.toLowerCase().includes(w.toLowerCase())))==null?void 0:m[0]),!!n){if(d===-1){c==="SUMMARY"?n.name=(n.name||"")+`
`+f:c==="DESCRIPTION"&&(n.localName=(n.localName||"")+`
`+f);continue}if(k==="DTSTART"){const w=(l=h.map(u=>u.split("=")).find(([u])=>u==="TZID"))==null?void 0:l[1];if(n.kind="other",w){const u=(g=Object.entries(G).find(([,r])=>r===w))==null?void 0:g[0];u&&(n.kind="publicHoliday"),n.kind==="publicHoliday"&&(n.countryCode=u)}n.kind==="other"&&i&&(n.icon=A(i));const x=S.trim(),b=x.slice(0,8);if(/^\d{8}$/.test(b))n.date=`${b.slice(0,4)}-${b.slice(4,6)}-${b.slice(6,8)}`;else{const u=v.fromMonthAndDay(x,2025);isNaN(u.getTime())||(n.date=R(u))}}else k==="SUMMARY"?n.name=te(S):k==="DESCRIPTION"&&(n.localName=te(S));c=k}}return s}export{St as C,B as a,Et as b,pt as c,Nt as d,wt as e,_t as f,A as g,R as h,vt as i,bt as p,kt as s,Dt as u};
