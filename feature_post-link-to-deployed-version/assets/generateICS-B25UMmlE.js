var re=Object.defineProperty;var ie=(e,t,a)=>t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var O=(e,t,a)=>ie(e,typeof t!="symbol"?t+"":t,a);import{d as T,r as y,j as o,R as V}from"./index-BvAYIMHT.js";class v{constructor(t){O(this,"isYearDefined",!0);O(this,"date");if(t instanceof v)this.date=new Date(t.valueOf());else if(typeof t=="string"){const a=t.split("T")[0].split("-");if(a.length===3){const[s,n,i]=a;this.date=new Date(Date.UTC(Number(s),Number(n)-1,Number(i),12))}else{const[s,n]=a;this.date=new Date(Date.UTC(2025,Number(s)-1,Number(n),12))}}else this.date=new Date}static fromMonthAndDay(t,a){const s=new v(t.split("-").length===3?t:`${a}-${t}`);return s.isYearDefined=t.split("-").length===3,s}isToday(){return U.getFullYear()===this.date.getFullYear()&&U.getMonth()===this.date.getMonth()&&U.getDate()===this.date.getDate()}toISOString(){return this.date.toISOString()}getTimezoneOffset(){return this.date.getTimezoneOffset()}getHours(){return this.date.getUTCHours()}getMinutes(){return this.date.getUTCMinutes()}getSeconds(){return this.date.getUTCSeconds()}getTime(){return this.date.getTime()}getDay(){return this.date.getUTCDay()}getFullYear(){return this.date.getUTCFullYear()}getMonth(){return this.date.getUTCMonth()}getDate(){return this.date.getUTCDate()}toDateString(){return this.date.toDateString()}setFullYear(t){this.date.setUTCFullYear(t)}setMonth(t){this.date.setUTCMonth(t)}setDate(t){this.date.setUTCDate(t)}valueOf(){return this.date.valueOf()}}const U=new v,ce=["January","February","March","April","May","June","July","August","September","October","November","December"],le=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],L={Monday:1,Saturday:6,Sunday:0},de=()=>{const e=new v().getFullYear();return Array.from({length:3},(t,a)=>e-1+a)},R=e=>e.toISOString().split("T")[0];function ne(e){return e===L.Sunday?7:e}const F=(e,t)=>e.toDateString()===t.toDateString(),ue=(e,t)=>new Date(e,t+1,0).getDate(),oe=e=>new Date(0,e).toLocaleString(T,{month:"long"}),Z=e=>(e+1)%12,he=new Intl.DateTimeFormat(T,{month:"long",day:"numeric"}),me=new Intl.DateTimeFormat(T,{weekday:"long"});function St(e){const t=he.format(e.valueOf()),a=me.format(e.valueOf());return`${t} (${a})`}function Y(e){return[L.Saturday,L.Sunday,"Sun","Sat"].includes(e)}const H=new Intl.DateTimeFormat(T);function I(){return new URLSearchParams(window.location.hash.replace("#",""))}function q(e,t,a,s,n){const i=e.getFullYear(),c=new v(`${i}-${String(s+1).padStart(2,"0")}-01`),h=new v(c);h.setDate(h.getDate()+1-ne(c.getDay()));const l=[],g=new v;let p=!0;for(let f=0;f<=372;f++){const d=new v(h);d.setDate(h.getDate()+f),d.getDay()===L.Monday&&d.getMonth()===Z(s)&&(p=!1);const m=F(d,g),S=d.getFullYear()===i,E=S?pe(d,t,a):[];l.push({date:d,isSideMonth:d.getMonth()!==s&&p,isCurrentMonth:d.getMonth()===s&&S,isCurrentYear:S,isToday:m,isWeekend:Y(d.getDay()),events:n||!Y(d.getDay())?E:[],dayNumber:d.getDate()}),d.getDay()===L.Sunday&&d.getMonth()===Z(s)&&(p=!1)}return l}function pe(e,t,a){const s=R(e);return[...t.filter(n=>n.kind==="other"&&n.date===s),...a.flatMap(n=>t.filter(i=>{var c;return i.kind==="publicHoliday"&&i.countryCode===n&&((c=i.type)==null?void 0:c.includes("National holiday"))===!0&&i.date===s}))]}const vt=(e,t=!0)=>{const[a,s]=y.useState(new v),n=u=>{u.valueOf()!==a.valueOf()&&s(u)},[i,c]=y.useState(["LV"]),[h,l]=y.useState("year"),[g,p]=y.useState(!1),f=y.useCallback(()=>{const u=I(),r=u.get("countries")??"";r&&c(r.split(","));const C=u.get("date")??"";C&&n(new v(C));const D=u.get("mode");(D==="month"||D==="year")&&l(D);const M=u.get("all");p(M==="1")},[]);y.useEffect(()=>(f(),window.addEventListener("hashchange",f),()=>{window.removeEventListener("hashchange",f)}),[]);const d=y.useMemo(()=>q(a,e,i,a.getMonth(),t).filter(u=>u.isSideMonth||u.isCurrentMonth),[a,i,e,t]),m=y.useMemo(()=>q(a,e,i,0,t),[a,i,e,t]),S=y.useCallback(u=>{const r=new v(a);r.setDate(1),r.setMonth(u);const C=I();return C.set("date",H.format(r.valueOf())),window.location.hash=decodeURIComponent(C.toString()),r},[a]),E=y.useCallback(u=>{c(r=>{const C=r.includes(u)?r.filter(M=>M!==u):[...r,u],D=I();return D.set("countries",C.join(",")),window.location.hash=decodeURIComponent(D.toString()),C})},[]),k=y.useCallback(u=>{const r=I();r.set("date",H.format(u.valueOf())),window.location.hash=decodeURIComponent(r.toString()),n(u)},[]),x=y.useCallback((u,r)=>{const C=I();if(C.set("mode",u),u==="month"){const D=new v(a);D.setMonth(r),C.set("date",H.format(D.valueOf()))}window.location.hash=decodeURIComponent(C.toString()),l(u)},[a]),b=y.useCallback(u=>{const r=I();r.set("all",u?"1":"0"),window.location.hash=decodeURIComponent(r.toString()),p(u)},[]);return{currentDate:a,selectedCountries:i,selectedMonthDays:d,selectedYearDays:m,mode:h,navigateMonth:S,toggleCountry:E,handleDateChange:k,handleModeChange:x,showAllCountries:g,setShowAllCountries:b}},ge="_controls_1qfnz_1",fe="_controlsGrid_1qfnz_7",ye="_controlGroup_1qfnz_13",Ce="_controlGroupItem_1qfnz_18",_e="_controlGroupLabel_1qfnz_24",De="_select_1qfnz_31",Se="_navButton_1qfnz_55",w={controls:ge,controlsGrid:fe,controlGroup:ye,controlGroupItem:Ce,controlGroupLabel:_e,select:De,navButton:Se},Et=e=>{const{selectedDate:t,onDateChange:a,onNavigateMonth:s}=e,n=de(),i=t.getFullYear(),c=t.getMonth(),h=Array.from({length:12},(l,g)=>g);return o.jsx("div",{className:w.controls,children:o.jsxs("div",{className:w.controlsGrid,children:[o.jsxs("div",{className:w.controlGroup,children:[o.jsx("label",{className:w.controlGroupLabel,children:"Select Year"}),o.jsxs("div",{className:w.controlGroupItem,children:[o.jsx("button",{className:w.navButton,onClick:()=>s(t.getMonth()-12),children:"â† Previous"}),o.jsx("select",{className:w.select,value:i,onChange:l=>{const g=parseInt(l.target.value),p=new v(t);p.setFullYear(g),a(p)},children:n.map(l=>o.jsx("option",{value:l,children:l},l))}),o.jsx("button",{className:w.navButton,onClick:()=>s(t.getMonth()+12),children:"Next â†’"})]})]}),o.jsxs("div",{className:w.controlGroup,children:[o.jsx("label",{className:w.controlGroupLabel,children:"Select Month"}),o.jsxs("div",{className:w.controlGroupItem,children:[o.jsx("button",{className:w.navButton,onClick:()=>s(t.getMonth()-1),children:"â† Previous"}),o.jsx("select",{className:w.select,value:c,onChange:l=>{const g=parseInt(l.target.value),p=new v(t);p.setMonth(g),p.setDate(1),a(p)},children:h.map(l=>o.jsx("option",{value:l,children:oe(l)},l))}),o.jsx("button",{className:w.navButton,onClick:()=>s(t.getMonth()+1),children:"Next â†’"})]})]}),e.extraControls]})})},A=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(127397+t.charCodeAt(0))),ve="_calendarDay_c2sdc_1",Ee="_isClickable_c2sdc_10",Ne="_otherMonth_c2sdc_18",we="_today_c2sdc_23",ke="_selectedDate_c2sdc_28",be="_dayNumber_c2sdc_32",xe="_event_c2sdc_38",Me="_holiday_c2sdc_50",j={calendarDay:ve,isClickable:Ee,otherMonth:Ne,today:we,selectedDate:ke,dayNumber:be,event:xe,holiday:Me};function B(e,t,a,s){var i,c,h;if(Object.keys(s).length===0)return;if(!e)return"https://en.wikipedia.org/wiki/"+s[t].wiki;const n=(h=(c=(i=s[t])==null?void 0:i.holidays)==null?void 0:c.find(l=>{const g=parseInt(l.date.split("-")[0],10);return parseInt(l.date.split("-")[1],10)===parseInt(e.split("-")[1],10)&&g===parseInt(e.split("-")[2],10)}))==null?void 0:h.l;return n?"https://en.wikipedia.org/wiki/"+n:`https://www.google.com/search?q=${a.split(" ").join("+")}+${t}`}const K=({day:e,setDateForPopup:t,isSelected:a,isEditable:s,countryData:n})=>{const i=[j.calendarDay,!e.isCurrentMonth&&j.otherMonth,e.isToday&&j.today,a?j.selectedDate:"",s?j.isClickable:"",e.isWeekend?j.holiday:""].filter(Boolean).join(" ");return o.jsxs("div",{className:i,onClick:()=>t(e.date),children:[o.jsx("div",{className:j.dayNumber,children:e.dayNumber}),e.isCurrentMonth&&e.events.map((c,h)=>c.kind==="publicHoliday"?o.jsx("a",{href:B(c.date,c.country,c.name,n),onClick:l=>l.stopPropagation(),target:"_blank",rel:"noopener noreferrer",children:o.jsxs("div",{className:j.event,title:`${c.localName}`,children:[A(c.countryCode)," ",c.country,": ",c.name]})},h):o.jsxs("div",{className:j.event,title:`${c.localName}`,onClick:l=>l.stopPropagation(),children:[c.icon," ",c.name]},h))]},e.date.toDateString())},je="_calendarGrid_1f47z_1",Te="_calendarGridContainer_1f47z_13",Ie="_calendarHeader_1f47z_18",$e="_hidden_1f47z_40",Le="_animateHidingForward_1f47z_41",Ae="_animateHidingBackward_1f47z_42",Re="_weekend_1f47z_48",Fe="_yearGrid_1f47z_52",Ge="_monthContainer_1f47z_58",Oe="_monthHeader_1f47z_63",Ue="_monthGrid_1f47z_77",He="_dayCell_1f47z_83",Ye="_isClickable_1f47z_92",Be="_holiday_1f47z_101",Pe="_selectedDate_1f47z_106",ze="_holidayIndicatorsList_1f47z_110",Ve="_holidayIndicator_1f47z_110",Ze="_popup_1f47z_121",qe="_popupContent_1f47z_141",Ke="_today_1f47z_182",We="_highlightedMonth_1f47z_187",_={calendarGrid:je,calendarGridContainer:Te,calendarHeader:Ie,hidden:$e,animateHidingForward:Le,animateHidingBackward:Ae,weekend:Re,yearGrid:Fe,monthContainer:Ge,monthHeader:Oe,monthGrid:Ue,dayCell:He,isClickable:Ye,holiday:Be,selectedDate:Pe,holidayIndicatorsList:ze,holidayIndicator:Ve,popup:Ze,popupContent:qe,today:Ke,highlightedMonth:We},Je="_monthNavigation_8ir2e_1",Xe="_monthTitle_8ir2e_8",W={monthNavigation:Je,monthTitle:Xe},Qe=({currentDate:e,onNavigateYear:t})=>o.jsx("div",{className:W.monthNavigation,children:o.jsx("h2",{title:"Click to see whole year",className:W.monthTitle,onClick:t,children:`${ce[e.getMonth()]} ${e.getFullYear()}`})}),et="_popup_uls05_1",tt="_shadow_uls05_13",nt="_nameContainer_uls05_64",ot="_checkbox_uls05_72",at="_checkboxLabel_uls05_77",$={popup:et,shadow:tt,"emoji-popup":"_emoji-popup_uls05_32",nameContainer:nt,checkbox:ot,checkboxLabel:at};function J(e){return e.replace(new RegExp("(\\p{Emoji_Presentation}|\\p{Emoji}\\uFE0F)\\s","u"),"")}const st=["ðŸŽˆ","ðŸŽ","ðŸŽ‚","ðŸ’","ðŸ‘¸","ðŸ‘´ðŸ¼","ðŸ‘µ","ðŸ˜€","ðŸ˜","ðŸ˜‚","ðŸ¤£","ðŸ˜Š","ðŸ˜","ðŸ˜Ž","ðŸ˜","ðŸ¤”","ðŸ˜´","ðŸ˜¡","ðŸ˜­","ðŸ¤¯","ðŸ¤©","ðŸ˜‡","ðŸ¥°","ðŸ˜¤","ðŸ˜ˆ","ðŸ‘»","ðŸ”¥"],rt=()=>st.map((e,t)=>o.jsx("span",{children:e},t)),it=({initialDate:e,onNewEvent:t})=>{const a=y.useRef(null),s=y.useRef(null),[n,i]=y.useState(""),[c,h]=y.useState(!1),[l,g]=y.useState("ðŸŽ‚");y.useEffect(()=>{const m=S=>{a.current&&!a.current.contains(S.target)&&t(null)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[t]);const p=()=>{t({date:c?e:e.substring(5),name:J(n),icon:l,localName:"",kind:"other"})},f=y.useCallback(m=>{var E;const S=m.target;S.tagName==="SPAN"&&(g(S.innerHTML),i(k=>S.innerHTML+" "+J(k)),(E=s.current)==null||E.focus())},[]),d=y.useCallback(m=>{m.key==="Enter"&&n.trim()?(m.preventDefault(),p()):m.key==="Escape"&&t(null)},[p,n]);return y.useEffect(()=>(document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)),[]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:$.shadow}),o.jsxs("div",{ref:a,className:$.popup,onClick:m=>{m.stopPropagation()},role:"dialog","aria-modal":"true",children:[o.jsx("p",{children:o.jsxs("b",{children:["Add new event for ",e]})}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[o.jsxs("div",{className:$.nameContainer,children:[o.jsx("label",{htmlFor:"eventName",children:"Name"}),o.jsx("input",{onKeyDown:d,id:"eventName",ref:s,value:n,required:!0,type:"text",onChange:m=>i(m.target.value)})]}),o.jsx("div",{className:$["emoji-popup"],onClick:f,children:o.jsx(rt,{})}),o.jsx("input",{type:"checkbox",id:"oneTime",className:$.checkbox,checked:c,onChange:m=>h(m.target.checked)}),o.jsx("label",{htmlFor:"oneTime",className:$.checkboxLabel,children:"One-time"}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{type:"button",onClick:p,children:"Save (Enter)"}),o.jsx("button",{type:"button",onClick:()=>t(null),children:"Cancel (Esc)"})]})]})]})]})};function P(e){const[t,a]=V.useState(e),[s,n]=V.useState(null);return e!==t&&(n(t),a(e)),s}function ct(e){return e.split(`
`).map(t=>t.trim()).filter(Boolean).join(" ")}const X=()=>le.map(e=>o.jsx("div",{className:`${_.calendarHeader} ${Y(e)?_.weekend:""}`,children:e},e)),lt=e=>{const{shouldAnimate:t,selectedDays:a,onModeChange:s,currentDate:n,dateForPopup:i,setDateForPopup:c,isEditable:h,countryData:l}=e,g=P(a),p=P(n),f=_.calendarGrid+" "+(p&&t?p.valueOf()<n.valueOf()?_.animateHidingForward:_.animateHidingBackward:_.hidden);return o.jsxs(o.Fragment,{children:[o.jsx(Qe,{currentDate:n,onNavigateYear:()=>s("year",1)}),g&&o.jsxs("div",{className:f,children:[o.jsx(X,{}),g.map((d,m)=>o.jsx(K,{day:d,setDateForPopup:c,isSelected:!1,isEditable:h,countryData:l},d.date+""+m))]},n.valueOf()),o.jsxs("div",{className:_.calendarGrid,children:[o.jsx(X,{}),a.map((d,m)=>o.jsx(K,{day:d,setDateForPopup:c,isSelected:i===d.date,isEditable:h,countryData:l},d.date+""+m))]})]})},dt=({selectedDays:e,onModeChange:t,currentDate:a,dateForPopup:s,setDateForPopup:n,isEditable:i,setSelectedDay:c})=>{const h=a.getFullYear(),[l,g]=y.useState(null),p=y.useRef(null),f=a.getMonth();return y.useEffect(()=>{if(p.current){const d=p.current.querySelectorAll(`.${_.monthContainer}`)[f];d&&!a.isToday()&&(d.scrollIntoView({behavior:"smooth",block:"center"}),g(f))}},[f]),o.jsx("div",{ref:p,className:_.yearGrid,children:Array.from({length:12},(d,m)=>{const S=ue(h,m),E=oe(m),k=new v(`${h}-${String(m+1).padStart(2,"0")}-01`),x=ne(k.getDay())-1,b=Array.from({length:x},(u,r)=>o.jsx("div",{},r));return o.jsxs("div",{className:`${_.monthContainer} ${l===m?_.highlightedMonth:""}`,children:[o.jsx("div",{className:_.monthHeader,title:"Click to switch on month view",onClick:()=>{t("month",m)},children:E}),o.jsxs("div",{className:_.monthGrid,children:[b,Array.from({length:S},(u,r)=>{const C=new v(`${h}-${String(m+1).padStart(2,"0")}-${r+1}`),D=e.find(N=>F(N.date,C)),M=(D==null?void 0:D.events)||[],z=new Set,se=M.filter(N=>N.kind!=="publicHoliday"||z.has(N.countryCode)?!1:(z.add(N.countryCode),!0));return o.jsxs("div",{className:ct(`
                                                ${D!=null&&D.isToday?_.today:""}
                                                ${(s==null?void 0:s.valueOf())===C.valueOf()?_.selectedDate:""} 
                                                ${_.dayCell} 
                                                ${M.length>0||D!=null&&D.isWeekend?_.holiday:""}
                                                ${M.length>0||i?_.isClickable:""}
                                            `),style:{borderRadius:`${r===0?10:0}px 0px ${r===S-1?10:0}px 0px`},onClick:()=>M.length>0?c(C):n(C),children:[r+1,o.jsxs("div",{className:_.holidayIndicatorsList,children:[se.map(N=>o.jsx("div",{className:_.holidayIndicator,children:A(N.countryCode)},N.countryCode+N.name)),M.filter(N=>N.kind==="other").map(N=>o.jsx("div",{className:_.holidayIndicator,children:N.icon},N.name))]})]},r)})]})]},m)})})},Nt=e=>{var E,k,x,b,u;const{selectedMonthDays:t,selectedYearDays:a,currentDate:s,mode:n,onModeChange:i,onNewEvent:c,countryData:h}=e,l=(E=P(e))==null?void 0:E.mode,[g,p]=y.useState(null),[f,d]=y.useState(null),[m,S]=y.useState(l===n);return y.useEffect(()=>{const r=C=>{const D=document.querySelector(`.${_.popup}`);D&&!D.contains(C.target)&&p(null)};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[]),o.jsxs("div",{className:_.calendarGridContainer,children:[n==="month"?o.jsx(lt,{shouldAnimate:m,selectedDays:t,onModeChange:i,currentDate:s,dateForPopup:f,setDateForPopup:d,isEditable:c!==void 0,countryData:h}):o.jsx(dt,{selectedDays:a,onModeChange:(r,C)=>{S(!1),i(r,C)},currentDate:s,dateForPopup:f,setDateForPopup:d,isEditable:c!==void 0,setSelectedDay:p,countryData:h}),f&&c&&o.jsx(it,{initialDate:R(f),onNewEvent:r=>{r&&c(r),d(null)}}),g&&o.jsx("div",{className:_.popup,children:o.jsxs("div",{className:_.popupContent,children:[o.jsxs("h3",{children:["Events on ",R(g)]}),o.jsxs("ul",{children:[(x=(k=a.find(r=>F(r.date,g)))==null?void 0:k.events.filter(r=>r.kind==="publicHoliday"))==null?void 0:x.map((r,C)=>o.jsxs("li",{"data-flag":A(r.countryCode),children:[o.jsx("a",{target:"_blank",href:B(void 0,r.country,"public holidays",h),children:o.jsx("strong",{children:r.country})}),":"," ",o.jsx("a",{target:"_blank",href:B(r.date,r.country,r.name,h),children:r.name})]},C)),(u=(b=a.find(r=>F(r.date,g)))==null?void 0:b.events.filter(r=>r.kind==="other"))==null?void 0:u.map((r,C)=>o.jsx("li",{"data-flag":r.icon,children:o.jsx("span",{children:r.name})},C))]}),o.jsx("button",{onClick:()=>p(null),children:"Close"})]})})]})},ut="_app_1bd3i_1",ht="_header_1bd3i_9",mt="_container_1bd3i_36",wt={app:ut,header:ht,container:mt},G={AD:"Europe/Andorra",AL:"Europe/Tirane",AT:"Europe/Vienna",BA:"Europe/Sarajevo",BE:"Europe/Brussels",BG:"Europe/Sofia",BY:"Europe/Minsk",CH:"Europe/Zurich",CY:"Asia/Nicosia",CZ:"Europe/Prague",DE:"Europe/Berlin",DK:"Europe/Copenhagen",EE:"Europe/Tallinn",ES:"Europe/Madrid",FI:"Europe/Helsinki",FR:"Europe/Paris",GB:"Europe/London",GR:"Europe/Athens",HR:"Europe/Zagreb",HU:"Europe/Budapest",IE:"Europe/Dublin",IS:"Atlantic/Reykjavik",IT:"Europe/Rome",LI:"Europe/Vaduz",LT:"Europe/Vilnius",LU:"Europe/Luxembourg",LV:"Europe/Riga",MC:"Europe/Monaco",MD:"Europe/Chisinau",ME:"Europe/Podgorica",MK:"Europe/Skopje",MT:"Europe/Malta",NL:"Europe/Amsterdam",NO:"Europe/Oslo",PL:"Europe/Warsaw",PT:"Europe/Lisbon",RO:"Europe/Bucharest",RS:"Europe/Belgrade",RU:"Europe/Moscow",SE:"Europe/Stockholm",SI:"Europe/Ljubljana",SK:"Europe/Bratislava",TR:"Europe/Istanbul",UA:"Europe/Kyiv"},ae={UA:"Europe/Kiev"};function pt(e,t){var h;const a=new Date;let s;try{s=new Intl.DateTimeFormat(T,{timeZone:e,timeZoneName:"shortOffset"})}catch(l){if(t)try{s=new Intl.DateTimeFormat(T,{timeZone:t,timeZoneName:"shortOffset"})}catch(g){window.console.error(g)}window.console.error(l)}if(!s)return"unknown timeZone";const n=s.formatToParts(a),i=n?(h=n.find(l=>l.type==="timeZoneName"))==null?void 0:h.value:"",c=(i==null?void 0:i.replace("GMT","").replace("UTC",""))??"";return c.startsWith("+")||c.startsWith("-")?c:"+0"}const gt=Object.entries(G).map(([e,t])=>({countryCode:e,timeZone:t,offset:pt(t,ae[e])})),kt=gt.reduce((e,{countryCode:t,offset:a})=>(e[t]=a,e),{}),bt=e=>{const t={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};try{return new Intl.DateTimeFormat(T,{timeZone:G[e],...t}).format(new Date)}catch(a){window.console.error(a)}try{return new Intl.DateTimeFormat(T,{timeZone:ae[e],...t}).format(new Date)}catch(a){window.console.error(a)}},ft={AD:"Andorra",AL:"Albania",AT:"Austria",BA:"Bosnia and Herzegovina",BE:"Belgium",BG:"Bulgaria",BY:"Belarus",CH:"Switzerland",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DK:"Denmark",EE:"Estonia",ES:"Spain",FI:"Finland",FR:"France",GB:"United Kingdom",GR:"Greece",HR:"Croatia",HU:"Hungary",IE:"Ireland",IS:"Iceland",IT:"Italy",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MK:"North Macedonia",MT:"Malta",NL:"Netherlands",NO:"Norway",PL:"Poland",PT:"Portugal",RO:"Romania",RS:"Serbia",RU:"Russia",SE:"Sweden",SI:"Slovenia",SK:"Slovakia",TR:"TÃ¼rkiye",UA:"Ukraine"};function Q(e){const t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}${a}${s}`}function yt(e){const t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),n=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0"),c=String(e.getSeconds()).padStart(2,"0");return`${t}${a}${s}T${n}${i}${c}Z`}function ee(e=""){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/,/g,"\\,").replace(/;/g,"\\;")}function Ct(e){const t=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//holiday-calendar-full//EN"],a=new v,s=yt(a);for(const n of e){if(!n.date)continue;const i=v.fromMonthAndDay(n.date,2025),c=Q(i),h=new v(i);h.setDate(h.getDate()+1);const l=Q(h),g=ee(n.localName||n.name||""),p=`${n.date}-${Math.random().toString(36).slice(2,10)}@holiday-calendar`,f=n.kind==="other"?n.icon?n.icon+" ":"":A(n.countryCode)+" ",d=ee(`${f}${n.name}`);t.push("BEGIN:VEVENT"),t.push(`UID:${p}`),t.push(`DTSTAMP:${s}`),t.push(`CREATED:${s}`);const m=n.kind==="publicHoliday"?`TZID=${G[n.countryCode]};`:"";t.push(`DTSTART;${m}VALUE=DATE:${c}`),t.push(`DTEND;${m}VALUE=DATE:${l}`),t.push(`SUMMARY:${d}`),g&&t.push(`DESCRIPTION:${g}`),t.push("TRANSP:TRANSPARENT"),t.push("END:VEVENT")}return t.push("END:VCALENDAR"),t.join(`\r
`)}function xt(e,t="calendar_events"){const a=Ct(e),s=new Blob([a],{type:"text/plain"}),n=URL.createObjectURL(s),i=document.createElement("a");i.href=n,i.download=t+".ics",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}const te=e=>e.replace(/\\\\/g,"\\").replace(/\\n/gi,`
`).replace(/\\,/g,",").replace(/\\;/g,";");function Mt(e){var h,l,g;let t=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`);t=t.replace(/\n[ \t]/g,"");const a=t.split(`
`),s=[];let n=null,i=null,c;for(const p of a){const f=p.replace(/\r$/,"");if(f==="BEGIN:VEVENT"){n={},i=null;continue}if(f==="END:VEVENT"){n&&(n.kind==="other"?s.push({date:n.date,name:n.name||"",localName:n.localName??"",kind:"other",icon:n.icon??""}):n.kind==="publicHoliday"&&s.push({date:n.date,name:n.name||"",localName:n.localName??"",kind:"publicHoliday",countryCode:n.countryCode??"SE",country:n.country??"Sweden",type:void 0})),n=null,i=null;continue}const d=f.indexOf(":"),m=f.substring(0,d).split(";"),S=f.substring(d+1),E=m[0].toUpperCase();if(E==="X-WR-CALNAME"&&(c=(h=Object.entries(ft).find(([,k])=>S.toLowerCase().includes(k.toLowerCase())))==null?void 0:h[0]),!!n){if(d===-1){i==="SUMMARY"?n.name=(n.name||"")+`
`+f:i==="DESCRIPTION"&&(n.localName=(n.localName||"")+`
`+f);continue}if(E==="DTSTART"){const k=(l=m.map(u=>u.split("=")).find(([u])=>u==="TZID"))==null?void 0:l[1];if(n.kind="other",k){const u=(g=Object.entries(G).find(([,r])=>r===k))==null?void 0:g[0];u&&(n.kind="publicHoliday"),n.kind==="publicHoliday"&&(n.countryCode=u)}n.kind==="other"&&c&&(n.icon=A(c));const x=S.trim(),b=x.slice(0,8);if(/^\d{8}$/.test(b))n.date=`${b.slice(0,4)}-${b.slice(4,6)}-${b.slice(6,8)}`;else{const u=v.fromMonthAndDay(x,2025);isNaN(u.getTime())||(n.date=R(u))}}else E==="SUMMARY"?n.name=te(S):E==="DESCRIPTION"&&(n.localName=te(S));i=E}}return s}export{Et as C,B as a,kt as b,ft as c,bt as d,xt as e,St as f,A as g,R as h,Nt as i,Mt as p,wt as s,vt as u};
